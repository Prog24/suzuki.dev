{"pageProps":{"frontmatter":{"title":"pandasで特定の時間のデータのみ取得する","date":"2020-05-26T10:00:00.000Z","template":"post","draft":false,"slug":"pandas-datetime","category":"データ分析","tags":["Python","勉強","データ処理"],"description":"pandasで特定の時間のデータのみ取得する"},"markdownBody":"\npandasでcsvなどを扱う際，csvに含まれるtimestampから，特定の時間のデータのみ取得したいことがよくある（多分）\n\n```text\ntext,timestamp\nhogehoge,2020-05-01 12:32:14\nhuga,2020-04-23 21:32:23\nhoge,2020-05-23 14:10:23\nfoo,2020-04-21 12:32:25\n```\n\nこんなデータから，全ての日付の12時台のデータのみ取得したい！という感じのものだ．\n\n早速方法．\n```python\n>> import pandas as pd\n>> data = pd.read_csv('./sample.csv')\n>> data\n       text            timestamp\n0  hogehoge  2020-05-01 12:32:14\n1      huga  2020-04-23 21:32:23\n2      hoge  2020-05-23 14:10:23\n3       foo  2020-04-21 12:32:25\n\n# この段階ではtimestampはdate型ではない\n>> data.types\ntext         object\ntimestamp    object\ndtype: object\n\n# timestampをdatetime型に変更する\n>> data['timestamp'] = pd.to_datetime(data['timestamp'])\n>> data.dtypes\ntext                 object\ntimestamp    datetime64[ns]\ndtype: object\n\n# 12時台のデータのみ取得する\n>> data[data['timestamp'].dt.hour == 12]\n       text           timestamp\n0  hogehoge 2020-05-01 12:32:14\n3       foo 2020-04-21 12:32:25\n```\n\n同じように書けば，同じ日付のデータのみ取得する．といったことも可能になる．\n"},"__N_SSG":true}